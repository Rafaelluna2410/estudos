<script>

function ordena (n){

troca  = true 

while(troca){
        troca =false;
    for(i =0; i< n.length-1; i++){

        if(n [i] > n[i +1]){

            var aux = n[i]
            n[i] = n[i+1]
            n[i+1] = aux

            troca = true;
        }document.write(n+"<br>")
    }
}

}

function media(n){

ordena(n)

var pos = Math.floor(n.length/2)

if(n.length %2 ==1){


return n[pos]

}else{
            // ele busca  a posição 1
    return  (n[pos] + n[pos-1])/2
                     // ele busca a posição 1
}

}

n = [3,1,5,2]

document.write(media(n));


</script>